/*

    Copyright Â© 2016-2017 Dominique Climent, Florian Dubath

    This file is part of Monnaie-Leman Wallet.

    Monnaie-Leman Wallet is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Monnaie-Leman Wallet is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Monnaie-Leman Wallet.  If not, see <http://www.gnu.org/licenses/>.

*/
require(__dirname).test(
  { xml : "<xml:root xmlns:xml='ERROR'/>"
  , expect :
    [ ["error"
      , "xml: prefix must be bound to http://www.w3.org/XML/1998/namespace\n"
                        + "Actual: ERROR\n"
      + "Line: 0\nColumn: 27\nChar: '"
      ]
    , [ "attribute"
      , { name: "xmlns:xml"
        , local: "xml"
        , prefix: "xmlns"
        , uri: "http://www.w3.org/2000/xmlns/"
        , value: "ERROR"
        }
      ]
    , [ "opentag"
      , { name: "xml:root"
        , uri: "http://www.w3.org/XML/1998/namespace"
        , prefix: "xml"
        , local: "root"
        , attributes:
          { "xmlns:xml":
            { name: "xmlns:xml"
            , local: "xml"
            , prefix: "xmlns"
            , uri: "http://www.w3.org/2000/xmlns/"
            , value: "ERROR"
            }
          }
        , ns: {}
        }
      ]
    , ["closetag", "xml:root"]
    ]
  , strict : true
  , opt : { xmlns: true }
  }
)

